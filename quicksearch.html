<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Global Methods package(chaincodePath, chaincodeType, devmode) Utility function to package a chaincode. The contents will be returned as a byte array. Parameters: Name Type Description chaincodePath Object required - String of the path to location of the source code of the chaincode chaincodeType Object optional - String of the type of chaincode ['golang', 'car', 'java'] (default 'golang') devmode boolean optional - True if using dev mode Returns: A promise for the data as a byte array Type Promise Type Definitions Block An object of a fully decoded protobuf message &quot;Block&quot;. A Block may contain the configuration of the channel or transactions on the channel. A Block object will have the following object structure. header number -- {int} previous_hash -- {byte[]} data_hash -- {byte[]} data data -- {array} signature -- {byte[]} payload header -- {Header} data -- {Config | Transaction} metadata metadata -- {array} #each array item has it's own layout [0] #SIGNATURES signatures -- {MetadataSignature[]} [1] #LAST_CONFIG value index -- {number} signatures -- {MetadataSignature[]} [2] #TRANSACTIONS_FILTER {int[]} #see TxValidationCode in proto/peer/transaction.proto Type: Object Examples Get the block number: var block_num = block.header.number; Get the number of transactions, including the invalid transactions: var block_num = block.data.data.legnth; Get the Id of the first transaction in the block: var tx_id = block.data.data[0].payload.header.channel_header.tx_id; ChannelConfig The configuration settings that govern how the fabric should maintain a channel are included in the blocks of the channel itself. When a block contains the channel configuration, the channel configuration record is the only item in the block's data array. Every block, including the configuration blocks themselves, has a pointer to the latest configuration block, making it easy to query for the latest channel configuration settings. A channel configuration record will have the following object structure. version -- {int} mod_policy -- {string} groups Orderer version -- {int} groups &lt;orderer_org_name&gt; -- {OrganizationConfig} values ConsensusType version -- {int} mod_policy -- {string} value type -- {string} BatchSize version -- {int} mod_policy -- {string} value max_message_count -- {int} absolute_max_bytes -- {int} preferred_max_bytes -- {int} BatchTimeout version -- {int} mod_policy -- {string} value timeout -- {duration} ChannelRestrictions version -- {int} mod_policy -- {string} value max_count -- {int} policies Admins version -- {int} mod_policy -- {string} policy -- {ImplicitMetaPolicy} Writers version -- {int} mod_policy -- {string} policy -- {ImplicitMetaPolicy} Readers version -- {int} mod_policy -- {string} policy -- {ImplicitMetaPolicy} BlockValidation version -- {int} mod_policy -- {string} policy -- {SignaturePolicy} Application version -- {int} groups &lt;peer_org_name&gt; -- {OrganizationConfig} values policies Admins version -- {int} mod_policy -- {string} policy -- {ImplicitMetaPolicy} Writers version -- {int} mod_policy -- {string} policy -- {ImplicitMetaPolicy} Readers version -- {int} mod_policy -- {string} policy -- {ImplicitMetaPolicy} values OrdererAddresses version -- {int} mod_policy -- {string} value addresses -- {array} {string - host:port} HashingAlgorithm version -- {int} mod_policy -- {string} value name -- {string} BlockDataHashingStructure version -- {int} mod_policy -- {string} value width -- {int} Consortium version -- {int} mod_policy -- {string} value name -- {string} Type: Object Properties: Name Type Description groups.Orderer.groups.&lt;orderer_org_name&gt; OrganizationConfig These are the orderer organizatoin names defined on the network groups.Application.groups.&lt;peer_org_name&gt; OrganizationConfig These are the peer organization names defined on the network policy ImplicitMetaPolicy These policies point to other policies and specify a threshold as in &quot;ANY&quot;, &quot;MAJORITY&quot; or &quot;ALL&quot; Config An object that contains channel configurations. A &quot;Config&quot; will have the following object structure. config sequence -- {int} channel_group -- {ConfigGroup} last_update signature -- {byte[]} payload header -- {Header} data -- {ConfigUpdate} Type: Object ConfigUpdate An object of a protobuf message &quot;ConfigUpdate&quot;. A &quot;ConfigUpdate&quot; will have the following object structure. config_update channel_id -- {string} read_set -- {ChannelConfig} write_set -- {ChannelConfig} signatures -- {array} signature_header -- {SignatureHeader} signature -- {byte[]} Type: Object Properties: Name Type Description config_update.read_set ChannelConfig A set of the current version numbers of all configuration items being updated config_update.write_set ChannelConfig A set of all configuration items being updated. Must have a version number one greater than the version number of the same item in the read_set along with the new value. CouchDBOpts Type: Object Properties: Name Type Description url stirng The CouchDB instance url, in the form of http(s)://:@host:port name string Optional. Identifies the name of the database to use. Default: member_db. CryptoSetting Type: Object Properties: Name Type Description software boolean Whether to load a software-based implementation (true) or HSM implementation (false) default is true (for software based implementation), specific implementation module is specified in the setting 'crypto-suite-software' keysize number The key size to use for the crypto suite instance. default is value of the setting 'crypto-keysize' algorithm string Digital signature algorithm, currently supporting ECDSA only with value 'EC' hash string 'SHA2' or 'SHA3' EnrollmentResponse Type: Object Properties: Name Type Description enrollmentCert string PEM-encoded X509 enrollment certificate caCertChain string PEM-encoded X509 certificate chain for the issuing certificate authority Header Headers describe basic information about a transaction record, such as its type (configuration update, or endorser transaction, etc.), the id of the channel it belongs to, the transaction id and so on. The header message also contains a common field SignatureHeader that describes critical information about how to verify signatures. A &quot;Header&quot; will have the following object structure. channel_header type -- {string} version -- {int} timestamp -- {time} channel_id -- {string} tx_id -- {string} epoch -- {int} signature_header -- {SignatureHeader} Type: Object HTTPEndpoint Type: Object Properties: Name Type Description hostname string port number protocol string Identity Type: Object Properties: Name Type Description role Role Any identity of a particular role OrganizationUnit Any identities belonging to an organization unit per certificate chain of trust Identity A specific identity ImplicitMetaPolicy ImplicitMetaPolicy is a policy type which depends on the hierarchical nature of the configuration It is implicit because the rule is generate implicitly based on the number of sub policies It is meta because it depends only on the result of other policies When evaluated, this policy iterates over all immediate child sub-groups, retrieves the policy of name sub_policy, evaluates the collection and applies the rule. For example, with 4 sub-groups, and a policy name of &quot;Readers&quot;, ImplicitMetaPolicy retrieves each sub-group, retrieves policy &quot;Readers&quot; for each subgroup, evaluates it, and, in the case of ANY 1 satisfied is sufficient, ALL would require 4 signatures, and MAJORITY would require 3 signatures. An &quot;ImplicitMetaPolicy&quot; will have the following object structure. type -- IMPLICIT_META policy sub_policy -- {string} rule -- ANY | ALL | MAJORITY Type: Object KeyOpts Options for a key operation Type: Object Properties: Name Type Description ephemeral boolean Whether the key should be persisted. &quot;true&quot; to persist. KeyValueAttribute Type: Object Properties: Name Type Description name string The key used to reference the attribute value string The value of the attribute MetadataSignature A signature over the metadata of a block, to ensure the authenticity of the metadata that describes a Block. signature_header {SignatureHeader} signature -- {byte[]} Type: Object OrganizationConfig Each participating organization of the channel gets represented in a section in the configuration block as described below. Critical information about the organzation such as its Membership Service Provider (MSP) content and its pre-defined policies that form the basis of the channel's access control policies (Admins, Writers and Readers) are contained in these sections. A organizational configuration will have the following object structure. version -- {int} mod_policy -- {string} values MSP version -- {int} mod_policy -- {string} value type -- {int} config name -- {string} root_certs -- {string[]} intermediate_certs -- {string[]} admins -- {string[]} revocation_list -- {string[]} signing_identity -- {byte[]} organizational_unit_identifiers -- {string[]} policies Admins version -- {int} mod_policy -- {string} policy -- {SignaturePolicy} Writers version -- {int} mod_policy -- {string} policy -- {SignaturePolicy} Readers version -- {int} mod_policy -- {string} policy -- {SignaturePolicy} Type: Object Policy Defines the endorsement policies Type: Object Properties: Name Type Description identities Array.&lt;Identity&gt; List of identities to be referenced in the &quot;policy&quot; section policy Array.&lt;PolicySpec&gt; The specification of the policy using a combination of &quot;signed-by&quot; and &quot;n-of&quot; structures. The design allows recursion PolicySpec Type: Object Properties: Name Type Description type Object The type of policy can be &quot;signed-by&quot; for a single identity signature or &quot;n-of&quot; where &quot;n&quot; is a numeric value. If the type property is &quot;signed-by&quot;, the value is the numeric index into the array of identities specified in the policy. If the type property is &quot;n-of&quot;, the value is an array of PolicySpec objects. As you can see, this structure allows recursive definitions of complex policies. Role Type: Object Properties: Name Type Description name string Name of the role. Value can be &quot;member&quot; or &quot;admin&quot; mspId string The member service provider Id used to process the identity SignatureHeader An object that is part of all signatures in Hyperledger Fabric. The &quot;creator&quot; field has two important pieces of information about the identity of the signer, the organization (Mspid) that the signer belongs to, and the certificate (IdBytes). The &quot;nonce&quot; field is a unique value to guard against replay attacks. creator Mspid -- {string} IdBytes -- {byte[]} nonce -- {byte[]} Type: Object SignaturePolicy SignaturePolicy is a recursive message structure which defines a featherweight DSL for describing policies which are more complicated than 'exactly this signature'. The NOutOf operator is sufficent to express AND as well as OR, as well as of course N out of the following M policies. SignedBy implies that the signature is from a valid certificate which is signed by the trusted authority specified in the bytes. This will be the certificate itself for a self-signed certificate and will be the CA for more traditional certificates A &quot;SignaturePolicy&quot; will have the following object structure. type -- SIGNATURE policy Type -- n_out_of n_out_of N -- {int} policies -- {array} Type -- signed_by signed_by -- {int} identities -- {array} principal_classification -- {int} msp_identifier -- {string} Role -- MEMBER | ADMIN Type: Object TLSOptions Type: Object Properties: Name Type Argument Default Description trustedRoots Array.&lt;string&gt; Array of PEM-encoded trusted root certificates verify boolean &lt;optional&gt; true Determines whether or not to verify the server certificate when using TLS Transaction A Transaction, or &quot;Endorser Transaction&quot;, is the result of invoking chaincodes to collect endorsements, getting globally ordered in the context of a channel, and getting validated by the committer peer as part of a block before finally being formally &quot;committed&quot; to the ledger inside a Block. Each transaction contains an array of &quot;actions&quot; representing different steps for executing a transaction, and those steps will be processed atomically, meaning if any one step failed then the whole transaction will be marked as rejected. Each entry of the &quot;actions&quot; array contains a chaincode proposal and corresponding proposal responses that encapsulate the endorsing peer's decisions on whether the proposal is considered valid. Note that even if a transaction proposal(s) is considered valid by the endorsing peers, it may still be rejected by the committers during transaction validation. Whether a transaction as a whole is valid or not, is not reflected in the transaction record itself, but rather recorded in a separate field in the Block's metadata. A &quot;Transaction&quot; will have the following object structure. actions {array} header -- {SignatureHeader} payload chaincode_proposal_payload input -- {byte[]} action proposal_response_payload proposal_hash -- {byte[]} extension results data_model -- {int} ns_rwset -- {array} namespace -- {string} rwset reads -- {array} key -- {string} version block_num -- {number} tx_num -- {number} range_queries_info -- {array} writes -- {array} key -- {string} is_delete -- {boolean} value -- {string} events chaincode_id -- {string} tx_id -- {string} event_name -- {string} payload -- {byte[]} response status -- {int} message -- {string} payload -- {byte[]} endorsements -- {array} endorser Mspid -- {string] IdBytes -- {byte[]} signature -- {byte[]} Type: Object × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Modules Classes BaseClient BlockDecoder Channel Client CouchDBKeyValueStore CryptoKeyStore CryptoSuite_ECDSA_AES CryptoSuite_PKCS11 ECDSA_KEY EndorsementPolicy EventHub FabricCAClient FabricCAServices FileKeyValueStore Identity exports CryptoSuite Key KeyValueStore MSP MSPManager Orderer Peer PKCS11_ECDSA_KEY Remote Signer SigningIdentity TransactionID User × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Classes Classes BaseClient BlockDecoder Channel Client CouchDBKeyValueStore CryptoKeyStore CryptoSuite_ECDSA_AES CryptoSuite_PKCS11 ECDSA_KEY EndorsementPolicy EventHub FabricCAClient FabricCAServices FileKeyValueStore Identity exports CryptoSuite Key KeyValueStore MSP MSPManager Orderer Peer PKCS11_ECDSA_KEY Remote Signer SigningIdentity TransactionID User × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Tutorials Classes BaseClient BlockDecoder Channel Client CouchDBKeyValueStore CryptoKeyStore CryptoSuite_ECDSA_AES CryptoSuite_PKCS11 ECDSA_KEY EndorsementPolicy EventHub FabricCAClient FabricCAServices FileKeyValueStore Identity exports CryptoSuite Key KeyValueStore MSP MSPManager Orderer Peer PKCS11_ECDSA_KEY Remote Signer SigningIdentity TransactionID User × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package The Hyperledger Fabric SDK for Node.js provides a powerful API to interact with a Hyperledger Fabric v1.0 blockchain. The SDK is designed to be used in the Node.js JavaScript runtime. OverviewHyperledger Fabric is the operating system of an enterprise-strength permissioned blockchain network. For a high-level overview of the fabric, visit http://hyperledger-fabric.readthedocs.io/en/latest/. Applications can be developed to interact with the blockchain network on behalf of the users. APIs are available to: create channels ask peer nodes to join the channel install chaincodes in peers instantiate chaincodes in a channel invoke transactions by calling the chaincode query the ledger for transactions or blocks How Different Components of the Fabric Work TogetherThe Transaction Flow document provides an excellent description of the application/SDK, peers, and orderers working together to process transactions and producing blocks. Security on the Fabric is enforced with digital signatures. All requests made to the fabric must be signed by users with appropriate enrollment certificates. For a user's enrollment certificate to be considered valid on the Fabric, it must be signed by a trusted Certificate Authority (CA). Fabric supports any standard CAs. In addition, Fabric provides a CA server. See this overview. Features of the SDK for Node.jsThe Hyperledger Fabric SDK for Node.js is designed in an Object-Oriented programming style. Its modular construction enables application developers to plug in alternative implementations of key functions such as crypto suites, the state persistence store, and logging utility. The SDK's list of features include: fabric-client: create a new channel send channel information to a peer to join install chaincode on a peer instantiate chaincode in a channel, which involves two steps: propose and transact submitting a transaction, which also involves two steps: propose and transact query a chaincode for the latest application state various query capabilities: channel height block-by-number, block-by-hash all channels that a peer is part of all installed chaincodes in a peer all instantiated chaincodes in a channel transaction-by-id channel configuration data monitoring events: connect to a peer's event stream listen on block events listen on transactions events and find out if the transaction was successfully committed to the ledger or marked invalid listen on custom events produced by chaincodes serializable User object with signing capabilities hierarchical configuration settings with multiple layers of overrides: files, environment variable, program arguments, in-memory settings logging utility with a built-in logger (winston) and can be overriden with a number of popular loggers including log4js and bunyan pluggable CryptoSuite interface describe the cryptographic operations required for successful interactions with the Fabric. Two implementations are provided out of box: Software-based ECDSA PKCS#11-compliant ECDSA pluggable State Store interface for persisting state caches such as users File-based store CouchDB-base store which works with both CouchDB database and IBM Cloudant customizable Crypto Key Store for any software-based cryptographic suite implementation supports both TLS (grpcs://) or non-TLS (grpc://) connections to peers and orderers, see Remote which is the superclass for peers and orderers fabric-ca-client: register a new user enroll a user to obtain the enrollment certificate signed by the Fabric CA revoke an existing user by enrollment ID or revoke a specific certificate customizable persistence store API ReferenceThe SDK is made up of 3 top-level modules that can be accessed through the navigation menu Modules: api: pluggable APIs for application developers to supply alternative implementations of key interfaces used by the SDK. For each interface there are built-in default implementations. fabric-client: this module provides APIs to interact with the core components of a Hypreledger Fabric-based blockchain network, namely the peers, orderers and event streams. fabric-ca-client: this module provides APIs to interact with the optional component, fabric-ca, that contains services for membership management. This work is licensed under a Creative Commons Attribution 4.0 International License. s × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"BaseClient.html":{"id":"BaseClient.html","title":"Class: BaseClient","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: BaseClient BaseClient Base class for a client that can use a CryptoSuite to sign and hash. It also contains utility methods for constructing new instances of CryptoKeyStore, CryptoSuite and KeyValueStore new BaseClient() Methods &lt;static&gt; addConfigFile(path) Adds a file to the top of the list of configuration setting files that are part of the hierarchical configuration. These files will override the default settings and be overriden by environment, command line arguments, and settings programmatically set into configuration settings. The hierarchical configuration settings search order: see BaseClient.getConfigSetting Parameters: Name Type Description path String The path to the file to be added to the top of list of configuration files &lt;static&gt; getConfigSetting(name, default_value) Retrieves a setting from the hierarchical configuration and if not found will return the provided default value. The hierarchical configuration settings search order for a setting aa-bb: memory: if the setting has been added with Client.setConfigSetting('aa-bb', 'value') Command-line arguments: like node app.js --aa-bb value Environment variables: AA_BB=value node app.js Custom Files: all files added with addConfigFile(path) will be ordered by when added, where same settings in the files added later will override those added earlier The file located at lib/config/default.json with default settings Parameters: Name Type Description name String The name of a setting default_value Object The value of a setting if not found in the hierarchical configuration &lt;static&gt; newCryptoKeyStore(KVSImplClass, opts) This is a factory method. It returns a new instance of the CryptoKeyStore. When the application needs to use a key store other than the default, it should create a new CryptoKeyStore and set it on the CryptoSuite. cryptosuite.setCryptoKeyStore(Client.newCryptoKeyStore(KVSImplClass, opts)) Parameters: Name Type Description KVSImplClass function Optional. The built-in key store saves private keys. The key store may be backed by different KeyValueStore implementations. If specified, the value of the argument must point to a module implementing the KeyValueStore interface. opts Object Implementation-specific option object used in the constructor Returns: a new instance of the CryptoKeystore Type CryptoKeyStore &lt;static&gt; newCryptoSuite(setting) This is a factory method. It returns a new instance of the CryptoSuite API implementation, based on the &quot;setting&quot; that is passed in, or if skipped, based on default values of the CryptoSetting properties. Parameters: Name Type Description setting CryptoSetting Optional Returns: a new instance of the CryptoSuite API implementation Type module:api.CryptoSuite &lt;static&gt; newDefaultKeyValueStore(options) Obtains an instance of the KeyValueStore class. By default it returns the built-in implementation, which is based on files (FileKeyValueStore). This can be overriden with a configuration setting key-value-store, the value of which is the full path of a CommonJS module for the alternative implementation. Parameters: Name Type Description options Object Specific to the implementation, for initializing the instance. For the built-in file-based implementation, this requires a single property path to the top-level folder for the store Returns: An instance of the KeyValueStore implementation Type module:api.KeyValueStore &lt;static&gt; setConfigSetting(name, value) Adds a setting to override all settings that are part of the hierarchical configuration. The hierarchical configuration settings search order: see BaseClient.getConfigSetting Parameters: Name Type Description name String The name of a setting value Object The value of a setting &lt;static&gt; setLogger(logger) Configures a logger for the entire SDK to use and override the default logger. Unless this method is called, the SDK uses a default logger based on winston. When using the built-in winston based logger, use the configuration setting hfc-logging to pass in configurations in the following format: { 'error': 'error.log', // 'error' logs are printed to file 'error.log' relative of the current working dir for node.js 'debug': '/tmp/myapp/debug.log', // 'debug' and anything more critical ('info', 'warn', 'error') can also be an absolute path 'info': 'console' // 'console' is a keyword for logging to console } Parameters: Name Type Description logger Object a logger instance that defines the following methods: debug(), info(), warn(), error() with string interpolation methods like util.format. getCryptoSuite() Returns the CryptoSuite object used by this client instance Returns: Type module:api.CryptoSuite setCryptoSuite(cryptoSuite) Sets the client instance to use the CryptoSuite object for signing and hashing Creating and setting a CryptoSuite is optional because the client will construct an instance based on default configuration settings: crypto-hsm: use an implementation for Hardware Security Module (if set to true) or software-based key management (if set to false) crypto-keysize: security level, or key size, to use with the digital signature public key algorithm. Currently ECDSA is supported and the valid key sizes are 256 and 384 crypto-hash-algo: hashing algorithm key-value-store: some CryptoSuite implementation requires a key store to persist private keys. A CryptoKeyStore is provided for this purpose, which can be used on top of any implementation of the KeyValueStore interface, such as a file-based store or a database-based one. The specific implementation is determined by the value of this configuration setting. Parameters: Name Type Description cryptoSuite module:api.CryptoSuite the CryptoSuite object × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"BlockDecoder.html":{"id":"BlockDecoder.html","title":"Class: BlockDecoder","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: BlockDecoder BlockDecoder Utility class to convert a protobuf encoded byte array of a Hyperledger Fabric block message into a pure Javascript object new BlockDecoder() Methods &lt;static&gt; decode(block_bytes) Constructs a JSON object containing all decoded values from the protobuf encoded `Block` bytes. Parameters: Name Type Description block_bytes Array.&lt;byte&gt; The encoded bytes of a Block protobuf message Returns: An object of the Block Type Block &lt;static&gt; decodeBlock(block) Constructs an object containing all decoded values from the protobuf encoded `Block` object Parameters: Name Type Description block Object a protobuf common.Block object Returns: An object of the fully decoded protobuf common.Block Type Block &lt;static&gt; decodeTransaction(processed_transaction_bytes) Constructs an object containing all decoded values from the protobuf encoded `ProcessedTransaction` bytes Parameters: Name Type Description processed_transaction_bytes Array.&lt;byte&gt; The encode bytes of a protobuf message ProcessedTransaction Returns: An object of the fully decoded transaction.ProcessedTransaction Type Object × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"Channel.html":{"id":"Channel.html","title":"Class: Channel","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: Channel Channel The class representing a channel with which the client SDK interacts. The “Channel” object captures settings for a channel, which is created by the orderers to isolate transactions delivery to peers participating on channel. A channel must be initialized after it has been configured with the list of peers and orderers. The initialization sends a get configuration block request to the primary orderer to retrieve the configuration settings for this channel. new Channel(name, clientContext) Parameters: Name Type Description name string to identify different channel instances. The naming of channel instances is enforced by the ordering service and must be unique within the blockchain network clientContext Client An instance of Client that provides operational context such as submitting User etc. Tutorials: Tutorial: app-overview Methods addOrderer(orderer) Add orderer endpoint to a channel object, this is a local-only operation. A channel instance may choose to use a single orderer node, which will broadcast requests to the rest of the orderer network. Or if the application does not trust the orderer nodes, it can choose to use more than one by adding them to the channel instance. All APIs concerning the orderer will broadcast to all orderers simultaneously. Parameters: Name Type Description orderer Orderer An instance of the Orderer class. Throws: if the orderer with that url already exists. Type Error addPeer(peer) Add peer endpoint to channel. Parameters: Name Type Description peer Peer An instance of the Peer class that has been initialized with URL, TLS certificate, and enrollment certificate. Throws: if the peer with that url already exists. Type Error compareProposalResponseResults(The) Utility method to examine a set of proposals to check they contain the same endorsement result write sets. This will validate that the endorsing peers all agree on the result of the chaincode execution. Parameters: Name Type Description The Array.&lt;ProposalResponse&gt; proposal responses from all endorsing peers See: /protos/peer/proposal_reponse.proto Returns: True when all proposals compare equally, false otherwise. Type boolean getChannelConfig() Queries for the current config block for this channel. This transaction will be made to the orderer. See: /protos/orderer/ab.proto /protos/common/configtx.proto Returns: Object containing the configuration items. Type ConfigEnvelope getGenesisBlock(request) Will get the genesis block from the defined orderer that may be used in a join request Parameters: Name Type Description request Object An object containing the following fields: `txId` : required - TransactionID object with the transaction id and nonce See: /protos/peer/proposal_response.proto Returns: A Promise for a protobuf `Block` Type Promise getMSPManager() Get the MSP Manager for this channel Returns: Type MSPManager getName() Get the channel name. Returns: The name of the channel. Type string getOrderers() Get orderers of a channel. getOrganizations() Get organization identifiers from the MSP's for this channel Returns: array of MSP identifiers representing the channel's participating organizations Type Array.&lt;string&gt; getPeers() Get peers of a channel from local information. Returns: The peer list on the channel. Type Array.&lt;Peer&gt; initialize(config_update-) Retrieve the configuration from the primary orderer and initializes this channel with those values. Optionally a configuration may be passed in to initialize this channel without making the call to the orderer. Parameters: Name Type Description config_update- Array.&lt;byte&gt; Optional - A serialized form of the protobuf configuration update Returns: a Promise that will resolve when the action is complete joinChannel(request) Sends a join channel proposal to one or more endorsing peers Will get the genesis block from the defined orderer to be used in the proposal. Parameters: Name Type Description request Object An object containing the following fields: `targets` : required - An array of `Peer` objects that will join this channel `block` : the genesis block of the channel see getGenesisBlock() method `txId` : required - TransactionID object with the transaction id and nonce See: /protos/peer/proposal_response.proto Returns: A Promise for a `ProposalResponse` Type Promise queryBlock(blockNumber, target) Queries the ledger for Block by block number. This query will be made to the primary peer. Parameters: Name Type Description blockNumber number The number which is the ID of the Block. target Peer Optional. The peer that is the target for this query. If no target is passed, the query will use the first peer that was added to the channel. Returns: Object containing the block. Type Object queryBlockByHash(block, target) Queries the ledger for Block by block hash. This query will be made to the primary peer. Parameters: Name Type Description block Array.&lt;byte&gt; hash of the Block. target Peer Optional. The peer that is the target for this query. If no target is passed, the query will use the first peer that was added to the channel. Returns: Object containing the block. Type Object queryByChaincode(request) Sends a proposal to one or more endorsing peers that will be handled by the chaincode. This request will be presented to the chaincode 'invoke' and must understand from the arguments that this is a query request. The chaincode must also return results in the byte array format and the caller will have to be able to decode these results Parameters: Name Type Description request Object A JSON object with the following targets : An array or single Endorsing Peer objects as the targets of the request chaincodeId : The id of the chaincode to perform the query `args` : an array of arguments specific to the chaincode 'innvoke' that represent a query invocation on that chaincode `transientMap` : optional - map that can be used by the chaincode but not saved in the ledger, such as cryptographic information for encryption Returns: A Promise for an array of byte array results from the chaincode on all Endorsing Peers Type Promise queryInfo(target) Queries for various useful information on the state of the Channel (height, known peers). Parameters: Name Type Description target Peer Optional. The peer that is the target for this query. If no target is passed, the query will use the first peer that was added to the channel. Returns: With height, currently the only useful info. Type Object queryInstantiatedChaincodes(target) Queries the instantiated chaincodes on this channel. Parameters: Name Type Description target Peer Optional. The peer that is the target for this query. If no target is passed, the query will use the first peer that was added to the channel. Returns: ChaincodeQueryResponse proto Type Object queryTransaction(tx_id, target) Queries the ledger for Transaction by number. This query will be made to the primary peer. Parameters: Name Type Description tx_id The id of the transaction target Peer Optional. The peer that is the target for this query. If no target is passed, the query will use the first peer that was added to the channel. Returns: Transaction information containing the transaction. Type Object removeOrderer(orderer) Remove orderer endpoint from a channel object, this is a local-only operation. Parameters: Name Type Description orderer Orderer An instance of the Orderer class. removePeer(peer) Remove peer endpoint from channel. Parameters: Name Type Description peer Peer An instance of the Peer class. sendInstantiateProposal(request) Sends an instantiate proposal to one or more endorsing peers. Parameters: Name Type Description request Object An object containing the following fields: `targets` : Optional : An array of endorsing Peer objects as the targets of the request. The list of endorsing peers will be used if this parameter is omitted. `chaincodeType` : optional -- Type of chaincode ['golang', 'car', 'java'] (default 'golang') `chaincodePath` : required - String of the path to location of the source code of the chaincode `chaincodeId` : required - String of the name of the chaincode `chaincodeVersion` : required - String of the version of the chaincode `txId` : required - TransactionID object with the transaction id and nonce `transientMap` : optional - map that can be used by the chaincode but not saved in the ledger, such as cryptographic information for encryption `fcn` : optional - String of the function to be called on the chaincode once instantiated (default 'init') `args` : optional - String Array arguments specific to the chaincode being instantiated `endorsement-policy` : optional - EndorsementPolicy object for this chaincode. If not specified, a default policy of &quot;a signature by any member from any of the organizations corresponding to the array of member service providers&quot; is used See: /protos/peer/proposal_response.proto Returns: A Promise for a `ProposalResponse` Type Promise Examples &quot;Signed by any member from one of the organizations&quot; { identities: [ { role: { name: &quot;member&quot;, mspId: &quot;org1&quot; }}, { role: { name: &quot;member&quot;, mspId: &quot;org2&quot; }} ], policy: { &quot;1-of&quot;: [{ &quot;signed-by&quot;: 0 }, { &quot;signed-by&quot;: 1 }] } } &quot;Signed by admin of the ordererOrg and any member from one of the peer organizations&quot; { identities: [ { role: { name: &quot;member&quot;, mspId: &quot;peerOrg1&quot; }}, { role: { name: &quot;member&quot;, mspId: &quot;peerOrg2&quot; }}, { role: { name: &quot;admin&quot;, mspId: &quot;ordererOrg&quot; }} ], policy: { &quot;2-of&quot;: [ { &quot;signed-by&quot;: 2}, { &quot;1-of&quot;: [{ &quot;signed-by&quot;: 0 }, { &quot;signed-by&quot;: 1 }]} ] } } sendTransaction(proposalResponses, chaincodeProposal) Sends the orderer an endorsed proposal. The caller must use the proposal response returned from the endorser along with the original proposal request sent to the endorser. Parameters: Name Type Description proposalResponses Array An array or single {ProposalResponse} objects containing the response from the endorsement chaincodeProposal Proposal A Proposal object containing the original request for endorsement(s) See: /protos/peer/proposal_response.proto /protos/peer/proposal.proto /protos/orderer/ab.proto Returns: A Promise for a `BroadcastResponse`. This will be an acknowledgement from the orderer of successfully submitted transaction. Type Promise sendTransactionProposal(request) Sends a transaction proposal to one or more endorsing peers. Parameters: Name Type Description request Object `targets` : optional -- The peers that will receive this request, when not provided the peers assigned to this channel will be used. `chaincodeId` : The id of the chaincode to perform the transaction proposal `txId` : required - TransactionID object with the transaction id and nonce `transientMap` : optional - map that can be used by the chaincode but not saved in the ledger, such as cryptographic information for encryption `args` : an array of arguments specific to the chaincode 'invoke' Returns: A Promise for a `ProposalResponse` Type Promise sendUpgradeProposal(request) Sends an upgrade proposal to one or more endorsing peers. Parameters: Name Type Description request Object An object containing the following fields: `targets` : An array of endorsing Peer objects as the targets of the request `chaincodeType` : optional -- Type of chaincode ['golang', 'car', 'java'] (default 'golang') `chaincodePath` : required - String of the path to location of the source code of the chaincode `chaincodeId` : required - String of the name of the chaincode `chaincodeVersion` : required - String of the version of the chaincode `txId` : required - TransactionID object with the transaction id and nonce `transientMap` : optional - map that can be used by the chaincode but not saved in the ledger, such as cryptographic information for encryption `fcn` : optional - String of the function to be called on the chaincode once instantiated (default 'init') `args` : optional - String Array arguments specific to the chaincode being instantiated See: /protos/peer/proposal_response.proto Returns: A Promise for a `ProposalResponse` Type Promise setMSPManager(the) Set the MSP Manager for this channel This utility method will not normally be use as the `initialize()` method will read this channel's current configuration and reset MSPManager with the MSP's found. Parameters: Name Type Description the MSPManager msp manager for this channel toString() return a printable representation of this object verifyProposalResponse(The) Utility method to verify a single proposal response. Requires that the initialize method of this channel has been executed to load this channel's MSPs. The MSPs will have the trusted root certificates for this channel. The verifications performed are - validate that the proposal endorsement's signer is trusted - verify that the endorsement signature matches the signer's claimed identity Parameters: Name Type Description The ProposalResponse endorsement response from the peer, includes the endorser certificate and signature over the proposal, endorsement result and endorser certificate. See: /protos/peer/proposal_reponse.proto Returns: a boolean value of true when both the identity and the signature are valid, false otherwise. Type boolean × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"Client.html":{"id":"Client.html","title":"Class: Client","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: Client Client Main interaction handler with end user. A client instance provides a handler to interact with a network of peers, orderers and optionally member services. An application using the SDK may need to interact with multiple networks, each through a separate instance of the Client. Each client when initially created should be initialized with configuration data from the consensus service, which includes a list of trusted roots, orderer certificates and IP addresses, and a list of peer certificates and IP addresses that it can access. This must be done out of band as part of bootstrapping the application environment. It is also the responsibility of the application to maintain the configuration of a client as the SDK does not persist this object. Each Client instance can maintain several Channel instances representing channels and the associated private ledgers. new Client() Extends BaseClient Methods createChannel(request) Calls the orderer to start building the new channel. Only one of the application instances needs to call this method. Once the channel is successfully created, this and other application instances only need to call Channel joinChannel() to participate on the channel. Parameters: Name Type Description request Object An object containing the following fields: `name` : required - {string} The name of the new channel `orderer` : required - {Orderer} object instance representing the Orderer to send the create request `envelope` : optional - byte[] of the envelope object containing all required settings and signatures to initialize this channel. This envelope would have been created by the command line tool &quot;configtx&quot;. `config` : optional - {byte[]} Protobuf ConfigUpdate object extracted from a ConfigEnvelope created by the ConfigTX tool. see extractChannelConfig() `signatures` : optional - {ConfigSignature[]} the list of collected signatures required by the channel create policy when using the `config` parameter. Returns: Result Object with status on the create process. Type Result createUser(opts) Returns an authorized user loaded using the private key and pre-enrolled certificate from files based on the MSP config directory structure: root \\_ keystore \\_ admin.pem &lt; \\_ signcerts \\_ admin.pem &lt; Parameters: Name Type Description opts Object - username {string} - the user name used for enrollment - mspid {string} - the MSP id - cryptoContent {Object} ---- privateKey {string} - the PEM file name including the root path - required when using the file system ---- signedCert {string} - the PEM file name including the root path - required when using the file system ---- or ---- privateKeyPEM {string} - the PEM string - required when no file system is available ---- signedCertPEM {string} - the PEM string - required when no file system is available extractChannelConfig(The) Extracts the protobuf 'ConfigUpdate' object out of the 'ConfigEnvelope' that is produced by the ConfigTX tool. The returned object may then be signed using the signChannelConfig() method of this class. Once the all signatures have been collected this object and the signatures may be used on the updateChannel or createChannel requests. Parameters: Name Type Description The Array.&lt;byte&gt; bytes of the ConfigEnvelope protopuf Returns: The bytes of the ConfigUpdate protobuf Type Array.&lt;byte&gt; getChannel(name) Get a Channel instance from the state storage. This allows existing channel instances to be saved for retrieval later and to be shared among instances of the application. Note that it’s the application/SDK’s responsibility to record the channel information. If an application is not able to look up the channel information from storage, it may call another API that queries one or more Peers for that information. Parameters: Name Type Description name string The name of the channel. Throws: if the state store has not been set or a channel does not exist under that name. Type Error Returns: The channel instance Type Channel getCryptoSuite() Returns the CryptoSuite object used by this client instance Inherited From: BaseClient#getCryptoSuite Returns: Type module:api.CryptoSuite getStateStore() A convenience method for obtaining the state store object in use for this client. Returns: The KeyValueStore implementation object set within this Client, or null if it does not exist. Type module:api.KeyValueStore getUserContext(name, checkPersistence) Returns the user with the signing identity. This can be a synchronous call or asynchronous call, depending on whether &quot;checkPersistent&quot; is truthy or not. If truthy, the method is asynchronous and returns a Promise, otherwise it's synchronous. As explained above, the client instance can have an optional state store. The SDK saves enrolled users in the storage which can be accessed by authorized users of the application (authentication is done by the application outside of the SDK). This function attempts to load the user by name from the local storage (via the KeyValueStore interface). The loaded user object must represent an enrolled user with a valid enrollment certificate signed by a trusted CA (such as the CA server). Parameters: Name Type Description name String Optional. If not specified, will only return the in-memory user context object, or null if not found in memory. If &quot;name&quot; is specified, will also attempt to load it from the state store if search in memory failed. checkPersistence boolean Optional. If specified and truthy, the method returns a Promise and will attempt to check the state store for the requested user by the &quot;name&quot;. If not specified or falsey, the method is synchronous and returns the requested user from memory Returns: The user object corresponding to the name, or null if the user does not exist or if the state store has not been set. Type Promise installChaincode(request) Sends an install proposal to one or more endorsing peers. Parameters: Name Type Description request Object An object containing the following fields: `chaincodePath` : required - String of the path to location of the source code of the chaincode `chaincodeId` : required - String of the name of the chaincode `chaincodeVersion` : required - String of the version of the chaincode `chaincodePackage` : optional - Byte array of the archive content for the chaincode source. The archive must have a 'src' folder containing subfolders corresponding to the 'chaincodePath' field. For instance, if the chaincodePath is 'mycompany/myproject', then the archive must contain a folder at the path 'src/mycompany/myproject', where the GO source code resides. `chaincodeType` : optional - Type of chaincode ['golang', 'car', 'java'] (default 'golang') See: /protos/peer/proposal_response.proto Returns: A Promise for a `ProposalResponse` Type Promise isDevMode() Determine if dev mode is enabled. loadUserFromStateStore() Restore the state of this member from the key value store (if found). If not found, do nothing. Returns: A Promise for a {User} object upon successful restore, or if the user by the name does not exist in the state store, returns null without rejecting the promise Type Promise newChannel(name) Returns a channel instance with the given name. This represents a channel and its associated ledger (as explained above), and this call returns an empty object. To initialize the channel in the blockchain network, a list of participating endorsers and orderer peers must be configured first on the returned object. Parameters: Name Type Description name string The name of the channel. Recommend using namespaces to avoid collision. Throws: if the channel by that name already exists in the application's state store Type Error Returns: The uninitialized channel instance. Type Channel newEventHub() Return a EventHub instance associated with this client instance. The EventHub instance must be assigned an end point address and connection parameters using the &quot;setPeerAddr&quot; method. See: EventHub Returns: The EventHub instance Type EventHub newOrderer(url, opts) Returns an order instance with the given url. Parameters: Name Type Description url string The URL with format of &quot;grpcs://host:port&quot;. opts Object The options for the connection to the peer. - request-timeout {string} A integer value in milliseconds to be used as node.js based timeout. This will break the request operation if the grpc request has not responded within this timeout period. - pem {string} The certificate file, in PEM format, to use with the gRPC protocol (that is, with TransportCredentials). Required when using the grpcs protocol. - ssl-target-name-override {string} Used in test environment only, when the server certificate's hostname (in the 'CN' field) does not match the actual host endpoint that the server process runs at, the application can work around the client TLS verify failure by setting this property to the value of the server certificate's hostname - any other standard grpc call options will be passed to the grpc service calls directly Returns: The orderer instance. Type Orderer newPeer(url, opts) Returns a peer instance with the given url. Parameters: Name Type Description url string The URL with format of &quot;grpcs://host:port&quot;. opts Object The options for the connection to the peer. - request-timeout {string} A integer value in milliseconds to be used as node.js based timeout. This will break the request operation if the grpc request has not responded within this timeout period. - pem {string} The certificate file, in PEM format, to use with the gRPC protocol (that is, with TransportCredentials). Required when using the grpcs protocol. - ssl-target-name-override {string} Used in test environment only, when the server certificate's hostname (in the 'CN' field) does not match the actual host endpoint that the server process runs at, the application can work around the client TLS verify failure by setting this property to the value of the server certificate's hostname - any other standard grpc call options will be passed to the grpc service calls directly Returns: The Peer instance. Type Peer newTransactionID() Create a new transaction id object with an unique transaction id based on included nonce and the user context. Requires this client instance to have an assigned user context. Returns: TransactionID An object that contains a transaction id based on the user context and also contains the generated nonce value. queryChannels(peer) Queries the names of all the channels that a peer has joined. Parameters: Name Type Description peer Peer Returns: A promise to return a ChannelQueryResponse proto Object Type Promise queryInstalledChaincodes(peer) Queries the installed chaincodes on a peer returning the details of all chaincodes installed on a peer. Parameters: Name Type Description peer Peer Returns: ChaincodeQueryResponse proto Type Object saveUserToStateStore() Save the state of this member to the key value store. Returns: A Promise for the user context object upon successful save Type Promise setCryptoSuite(cryptoSuite) Sets the client instance to use the CryptoSuite object for signing and hashing Creating and setting a CryptoSuite is optional because the client will construct an instance based on default configuration settings: crypto-hsm: use an implementation for Hardware Security Module (if set to true) or software-based key management (if set to false) crypto-keysize: security level, or key size, to use with the digital signature public key algorithm. Currently ECDSA is supported and the valid key sizes are 256 and 384 crypto-hash-algo: hashing algorithm key-value-store: some CryptoSuite implementation requires a key store to persist private keys. A CryptoKeyStore is provided for this purpose, which can be used on top of any implementation of the KeyValueStore interface, such as a file-based store or a database-based one. The specific implementation is determined by the value of this configuration setting. Parameters: Name Type Description cryptoSuite module:api.CryptoSuite the CryptoSuite object Inherited From: BaseClient#setCryptoSuite setDevMode() Set dev mode to true or false. setStateStore(keyValueStore) The enrollment materials for Users that have appeared in the instances of the application. The SDK should have a built-in key value store file-based implementation to allow easy setup during development. Production systems would use a store backed by database for more robust storage and clustering, so that multiple app instances can share app state via the database. This API makes this pluggable so that different store implementations can be selected by the application. Parameters: Name Type Description keyValueStore module:api.KeyValueStore Instance of an alternative KeyValueStore implementation provided by the consuming app. setUserContext(user, skipPersistence) Sets an instance of the User class as the security context of this client instance. This user’s credentials (ECert), or special transaction certificates that are derived from the user's ECert, will be used to conduct transactions and queries with the blockchain network. Upon setting the user context, the SDK saves the object in a persistence cache if the “state store” has been set on the Client instance. If no state store has been set, this cache will not be established and the application is responsible for setting the user context again if the application crashes and is recovered. Parameters: Name Type Description user User An instance of the User class encapsulating the authenticated user’s signing materials (private key and enrollment certificate) skipPersistence boolean Whether to skip saving the user object into persistence. Default is false and the method will attempt to save the user object to the state store. Returns: Promise of the 'user' object upon successful persistence of the user to the state store Type Promise signChannelConfig(config) Sign a configuration Parameters: Name Type Description config Array.&lt;byte&gt; The Configuration Update in byte form Returns: - The signature of the current user on the config bytes Type ConfigSignature updateChannel(request) Calls the orderer to update an existing channel. Only one of the application instances needs to call this method. Parameters: Name Type Description request Object An object containing the following fields: `name` : required - {string} The name of the new channel `orderer` : required - {Orderer} object instance representing the Orderer to send the update request `envelope` : optional - byte[] of the envelope object containing all required settings and signatures to initialize this channel. This envelope would have been created by the command line tool &quot;configtx&quot;. `config` : optional - {byte[]} Protobuf ConfigUpdate object built by the buildChannelConfig() method of this class. `signatures` : optional - {ConfigSignature[]} the list of collected signatures required by the channel create policy when using the `config` parameter. see signChannelConfig() method of this class Returns: Result Object with status on the update process. Type Result × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"CouchDBKeyValueStore.html":{"id":"CouchDBKeyValueStore.html","title":"Class: CouchDBKeyValueStore","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: CouchDBKeyValueStore CouchDBKeyValueStore This is a sample database implementation of the KeyValueStore API. It uses a local or remote CouchDB database instance to store the keys. new CouchDBKeyValueStore(options) constructor Parameters: Name Type Description options CouchDBOpts Settings used to connect to a CouchDB instance Extends module:api.KeyValueStore Methods getValue(name) Get the value associated with name. Parameters: Name Type Description name string Name of the key Inherited From: module:api.KeyValueStore#getValue Overrides: module:api.KeyValueStore#getValue Returns: Promise for the value corresponding to the key. If the value does not exist in the store, returns null without rejecting the promise Type Promise setValue(name, value) Set the value associated with name. Parameters: Name Type Description name string Name of the key to save value string The Value to save Inherited From: module:api.KeyValueStore#setValue Overrides: module:api.KeyValueStore#setValue Returns: Promise for the 'value' object upon successful write operation Type Promise × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"CryptoKeyStore.html":{"id":"CryptoKeyStore.html","title":"Class: CryptoKeyStore","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: CryptoKeyStore CryptoKeyStore new CryptoKeyStore(KVSImplClass, opts) A CryptoKeyStore uses an underlying instance of module:api.KeyValueStore implementation to persist crypto keys. Parameters: Name Type Description KVSImplClass function Optional. The built-in key store saves private keys. The key store may be backed by different KeyValueStore implementations. If specified, the value of the argument must point to a module implementing the KeyValueStore interface. opts Object Implementation-specific option object used in the constructor × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"CryptoSuite_ECDSA_AES.html":{"id":"CryptoSuite_ECDSA_AES.html","title":"Class: CryptoSuite_ECDSA_AES","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: CryptoSuite_ECDSA_AES CryptoSuite_ECDSA_AES The module:api.CryptoSuite implementation for ECDSA, and AES algorithms using software key generation. This class implements a software-based key generation (as opposed to Hardware Security Module based key management) new CryptoSuite_ECDSA_AES(keySize, hash) constructor Parameters: Name Type Description keySize number Key size for the ECDSA algorithm, can only be 256 or 384 hash string Optional. Hash algorithm, supported values are &quot;SHA2&quot; and &quot;SHA3&quot; Extends module:api.CryptoSuite Methods decrypt() To be implemented. Overrides: module:api.CryptoSuite#decrypt deriveKey() To be implemented Overrides: module:api.CryptoSuite#deriveKey encrypt() To be implemented. Overrides: module:api.CryptoSuite#encrypt generateKey(opts) Generate a key using the options in opts. If the opts.ephemeral parameter is false, the method, in addition to returning the imported Key instance, also persists the generated key in the key store as PEM files that can be retrieved using the getKey() method Parameters: Name Type Description opts KeyOpts Optional Inherited From: module:api.CryptoSuite#generateKey Overrides: module:api.CryptoSuite#generateKey Returns: Promise for an instance of the Key class Type module:api.Key getKey(ski) Returns the Key this implementation associates to the Subject Key Identifier ski. Parameters: Name Type Description ski string Subject Key Identifier specific to a Crypto Suite implementation, as the unique index to represent the key Inherited From: module:api.CryptoSuite#getKey Overrides: module:api.CryptoSuite#getKey Returns: Promise of an instance of the Key class corresponding to the ski Type module:api.Key hash(msg, opts) Produce a hash of the message msg using options opts Parameters: Name Type Description msg string Source message to be hashed opts Object algorithm: an identifier for the algorithm to be used, such as &quot;SHA3&quot; Inherited From: module:api.CryptoSuite#hash Overrides: module:api.CryptoSuite#hash Returns: The hashed digest in hexidecimal string encoding Type string importKey(pem, opts) Imports a Key from its raw representation using opts. If the opts.ephemeral parameter is false, the method, in addition to returning the imported Key instance, also saves the imported key in the key store as PEM files that can be retrieved using the 'getKey()' method Parameters: Name Type Description pem string PEM string of the key to import opts KeyOpts Optional Inherited From: module:api.CryptoSuite#importKey Overrides: module:api.CryptoSuite#importKey Returns: If &quot;opts.ephemeral&quot; is true, returns the Key class synchronously. If &quot;opts.ephemeral&quot; not set or false, returns a Promise of an instance of the Key class. Type Key | Promise setCryptoKeyStore(cryptoKeyStore) Set the cryptoKeyStore. When the application needs to use a key store other than the default, it should use the Client newCryptoKeyStore to create an instance and use this function to set the instance on the CryptoSuite. Parameters: Name Type Description cryptoKeyStore CryptoKeyStore The cryptoKeyStore. sign(key, digest) Signs digest using key. The opts argument should be appropriate for the algorithm used. Parameters: Name Type Description key module:api.Key Signing key (private key) digest Array.&lt;byte&gt; The message digest to be signed. Note that when a signature of a larger message is needed, the caller is responsible for hashing the larger message and passing the hash (as digest) to sign. Inherited From: module:api.CryptoSuite#sign Overrides: module:api.CryptoSuite#sign Returns: the resulting signature Type Array.&lt;byte&gt; verify(key, signature, digest) Verifies signature against key and digest Parameters: Name Type Description key module:api.Key Signing verification key (public key) signature Array.&lt;byte&gt; The signature to verify digest Array.&lt;byte&gt; The digest that the signature was created for Inherited From: module:api.CryptoSuite#verify Overrides: module:api.CryptoSuite#verify Returns: true if the signature verifies successfully Type boolean × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"CryptoSuite_PKCS11.html":{"id":"CryptoSuite_PKCS11.html","title":"Class: CryptoSuite_PKCS11","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: CryptoSuite_PKCS11 CryptoSuite_PKCS11 PKCS#11-compliant implementation to support Hardware Security Modules. new CryptoSuite_PKCS11(keySize, hash, opts) Parameters: Name Type Description keySize number Length of key (in bytes), a.k.a &quot;security level&quot; hash string Optional. Hash algorithm, supported values are &quot;SHA2&quot; and &quot;SHA3&quot; opts Object Option is the form { lib: string, slot: number, pin: string } If lib is not specified or null, its value will be taken from the CRYPTO_PKCS11_LIB env var, and if the env var is not set, its value will be taken from the crypto-pkcs11-lib key in the configuration file. If slot is not specified or null, its value will be taken from the CRYPTO_PKCS11_SLOT env var, and if the env var is not set, its value will be taken from the crypto-pkcs11-slot key in the configuration file. If pin is not specified or null, its value will be taken from the CRYPTO_PKCS11_PIN env var, and if the env var is not set, its value will be taken from the crypto-pkcs11-pin key in the configuration file. Extends module:api.CryptoSuite Methods decrypt() This is an implementation of module:api.CryptoSuite#decrypt Decrypts cipherText using key. The opts argument should be appropriate for the algorithm used. Overrides: module:api.CryptoSuite#decrypt deriveKey() This is an implementation of module:api.CryptoSuite#deriveKey Overrides: module:api.CryptoSuite#deriveKey encrypt() This is an implementation of module:api.CryptoSuite#encrypt Encrypts plainText using key. The opts argument should be appropriate for the algorithm used. Overrides: module:api.CryptoSuite#encrypt generateKey() This is an implementation of module:api.CryptoSuite#generateKey Returns an instance of module.api.Key representing the private key, which also encapsulates the public key. By default the generated key (keypar) is (are) ephemeral unless opts.ephemeral is set to false, in which case the key (keypair) will be saved across PKCS11 sessions by the HSM hardware. Overrides: module:api.CryptoSuite#generateKey Returns: Promise of an instance of module:PKCS11_ECDSA_KEY containing the private key and the public key. Type module:api.Key getKey() This is an implementation of module:api.CryptoSuite#getKey Returns the key this CSP associates to the Subject Key Identifier ski. Overrides: module:api.CryptoSuite#getKey hash(msg, opts) Produce a hash of the message msg using options opts Parameters: Name Type Description msg string Source message to be hashed opts Object algorithm: an identifier for the algorithm to be used, such as &quot;SHA3&quot; Inherited From: module:api.CryptoSuite#hash Returns: The hashed digest in hexidecimal string encoding Type string importKey() This is an implementation of module:api.CryptoSuite#importKey Overrides: module:api.CryptoSuite#importKey sign() This is an implementation of module:api.CryptoSuite#sign Signs digest using key k. The opts argument is not needed. Overrides: module:api.CryptoSuite#sign verify() This is an implementation of module:api.CryptoSuite#verify Verifies signature against key k and digest Overrides: module:api.CryptoSuite#verify × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"ECDSA_KEY.html":{"id":"ECDSA_KEY.html","title":"Class: ECDSA_KEY","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: ECDSA_KEY ECDSA_KEY new ECDSA_KEY() This module implements the module:api.Key interface, for ECDSA. Extends module:api.Key Methods getPublicKey() Returns the corresponding public key if this key is an asymmetric private key. If this key is already public, returns this key itself. Inherited From: module:api.Key#getPublicKey Returns: the corresponding public key if this key is an asymmetric private key. If this key is already public, returns this key itself. Type module:api.Key getSKI() Returns the subject key identifier of this key Inherited From: module:api.Key#getSKI Returns: The subject key identifier of this key as a hexidecial encoded string Type string isPrivate() Returns true if this key is an asymmetric private key, false otherwise. Inherited From: module:api.Key#isPrivate Returns: if this key is an asymmetric private key Type boolean isSymmetric() Returns true if this key is a symmetric key, false is this key is asymmetric Inherited From: module:api.Key#isSymmetric Returns: if this key is a symmetric key Type boolean toBytes() Converts this key to its PEM representation, if this operation is allowed. Inherited From: module:api.Key#toBytes Returns: the PEM string representation of the key Type string × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"EndorsementPolicy.html":{"id":"EndorsementPolicy.html","title":"Class: EndorsementPolicy","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: EndorsementPolicy EndorsementPolicy Governs the constructions of endorsement policies to be passed into the calls to instantiate chaincodes new EndorsementPolicy() Methods &lt;static&gt; buildPolicy(msps, policy) Constructs an endorsement policy envelope. If the optional &quot;policy&quot; object is not present, a default policy of &quot;a signature by any member from any of the organizations corresponding to the array of member service providers&quot; is returned. Parameters: Name Type Description msps Array.&lt;MSP&gt; Array of Member Service Provider objects representing the participants of the endorsement policy to be constructed policy Policy The policy specification. It has two high-level properties: identities and policy. see the type definition of Policy for details. × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"EventHub.html":{"id":"EventHub.html","title":"Class: EventHub","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: EventHub EventHub The EventHub class is used to distribute events from an event source(peer). Sample usage: var eh = client.newEventHub(); eh.setPeerAddr( 'grpcs://localhost:9999', { pem: Buffer.from(certdata).toString(), 'ssl-target-name-override': 'peer1'] } ); eh.connect(); eh.registerTxEvent( transactionId, (tx, code) =&gt; { eh.unregisterTxEvent(transactionId); console.log('Transaction ' + transactionId + 'has completed'); }, (err) =&gt; { eh.unregisterTxEvent(transactionId); console.log('Transaction listener has been closed on ' + eh.getPeerAddr()); } ); Use the &quot;newEventHub&quot; method on Client to get a new EventHub instance. Use the &quot;setPeerAddr&quot; method on EventHub to indicate to the EventHub instance the Peer's event hub address. Use the &quot;connect&quot; method on EventHub to connect to the Peer's event hub. This operation will be asynchronous and as such the call will not fail if there is an issue with the connection. Use the &quot;registerTxEvent&quot;, &quot;registerChaincodeEvent&quot;, or &quot;registerBlockEvent&quot; calls to register your callback listeners to be notified when this EventHub receives an event. Notice in the example there is both a callback for processing the event and one to process error issues. The primary error to watch for is a network issue that will cause the connection to close. Registering an error callback will guarantee that you get notified of network issues, otherwise there is no path available for this EventHub to notify the listeners. new EventHub(clientContext) Constructs an unconnected EventHub Parameters: Name Type Description clientContext Client An instance of the Client class which has already been initialzed with a userContext. Methods connect() Establishes a connection with the peer event source The peer address must be set using the &quot;setPeerAddr&quot; method before calling this method. The connection will be established asynchronously. disconnect() Disconnects the connection to the peer event source. Will close all event listeners and send an `Error` to all listeners that provided an &quot;onError&quot; callback. getPeerAddr() Get the peer url for this event source isconnected() Get connected state of eventhub Returns: true if connected to event source, false otherwise registerBlockEvent(onEvent, onError) Register a callback function to receive block events. This EventHub instance must be connected to a remote peer's event hub before registering for events by calling the &quot;connect()&quot; method. An error may be thrown by this call if no &quot;onError&quot; callback is provided and this EventHub has noticed that the connection has not been established. However since the connection establishment is running asynchronously, a register call could be made before this EventHub has been notified of the network issue. The best practice would be to provide an &quot;onError&quot; callback to be notified when this EventHub has an issue. Parameters: Name Type Description onEvent function Function that takes a single parameter which is a JSON object representation of type GRPC message &quot;Block&quot; from lib/proto/common/common.proto. onError function optional callback function to be notified when this event hub is shutdown. See: Block Returns: This is the block registration number that must be used to unregister (see unregisterBlockEvent) Type int registerChaincodeEvent(ccid, eventname, onEvent, onError) Register a callback function to receive chaincode events. This EventHub instance must be connected to a remote peer's event hub before registering for events by calling the &quot;connect()&quot; method. An error may be thrown by this call if no &quot;onError&quot; callback is provided and this EventHub has noticed that the connection has not been established. However since the connection establishment is running asynchronously, a register call could be made before this EventHub has been notified of the network issue. The best practice would be to provide an &quot;onError&quot; callback to be notified when this EventHub has an issue. Parameters: Name Type Description ccid string string chaincode id eventname string string The regex string used to filter events onEvent function callback function for filter matches that takes a single parameter which is a json object representation of type &quot;message ChaincodeEvent&quot; from lib/proto/chaincode_event.proto onError function optional callback function to be notified when this event hub is shutdown. The shutdown may be caused by a network error or by a call to the &quot;disconnect()&quot; method. Returns: ChainCodeCBE object that should be treated as an opaque handle used to unregister (see unregisterChaincodeEvent) Type Object registerTxEvent(txid, onEvent, onError) Register a callback function to receive transactional events. This EventHub instance must be connected to a remote peer's event hub before registering for events by calling the &quot;connect()&quot; method. An error may be thrown by this call if no &quot;onError&quot; callback is provided and this EventHub has noticed that the connection has not been established. However since the connection establishment is running asynchronously, a register call could be made before this EventHub has been notified of the network issue. The best practice would be to provide an &quot;onError&quot; callback to be notified when this EventHub has an issue. Parameters: Name Type Description txid string string transaction id onEvent function Function that takes a parameter which is a json object representation of type &quot;message Transaction&quot; from lib/proto/fabric.proto and a parameter which is a boolean that indicates if the transaction is invalid (true=invalid) onError function optional callback function to be notified when this event hub is shutdown. setPeerAddr(peeraddr, opts) Set peer url for event source Parameters: Name Type Description peeraddr string peer url opts Object An Object that may contain options to pass to grpcs calls - pem {string} The certificate file, in PEM format, to use with the gRPC protocol (that is, with TransportCredentials). Required when using the grpcs protocol. - ssl-target-name-override {string} Used in test environment only, when the server certificate's hostname (in the 'CN' field) does not match the actual host endpoint that the server process runs at, the application can work around the client TLS verify failure by setting this property to the value of the server certificate's hostname - any other standard grpc stream options will be passed to the grpc service calls directly unregisterBlockEvent(The) Unregister the block event listener with the block registration number. Parameters: Name Type Description The int block registration number that was returned during registration. unregisterChaincodeEvent(cbe) Unregister chaincode event registration Parameters: Name Type Description cbe Object ChainCodeCBE handle return from call to registerChaincodeEvent. unregisterTxEvent(txid) Unregister transactional event registration. Parameters: Name Type Description txid string transaction id × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"FabricCAClient.html":{"id":"FabricCAClient.html","title":"Class: FabricCAClient","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: FabricCAClient FabricCAClient Client for communciating with the Fabric CA APIs new FabricCAClient(connect_opts) constructor Parameters: Name Type Description connect_opts object Connection options for communciating with the Fabric CA server Properties Name Type Description protocol string The protocol to use (either HTTP or HTTPS) hostname string The hostname of the Fabric CA server endpoint port number The port of the Fabric CA server endpoint tlsOptions TLSOptions The TLS settings to use when the Fabric CA endpoint uses &quot;https&quot; caname string The optional name of the CA. Fabric-ca servers support multiple Certificate Authorities from a single server. If omitted or null or an empty string, then the default CA is the target of requests Methods &lt;static&gt; pemToDER({string)) Convert a PEM encoded certificate to DER format Parameters: Name Type Description {string) pem PEM encoded public or private key Throws: Will throw an error if the conversation fails Returns: hex Hex-encoded DER bytes Type string enroll(enrollmentID, enrollmentSecret, csr) Enroll a registered user in order to receive a signed X509 certificate Parameters: Name Type Description enrollmentID string The registered ID to use for enrollment enrollmentSecret string The secret associated with the enrollment ID csr string PEM-encoded PKCS#10 certificate signing request Throws: Will throw an error if all parameters are not provided Will throw an error if calling the enroll API fails for any reason Returns: EnrollmentResponse Type Promise reenroll(csr, signingIdentity) Re-enroll an existing user. Parameters: Name Type Description csr string PEM-encoded PKCS#10 certificate signing request signingIdentity SigningIdentity The instance of a SigningIdentity encapsulating the Returns: EnrollmentResponse Type Promise register(enrollmentID, enrollmentSecret, role, affiliation, maxEnrollments, attrs, signingIdentity) Register a new user and return the enrollment secret Parameters: Name Type Description enrollmentID string ID which will be used for enrollment enrollmentSecret string Optional enrollment secret to set for the registered user. If not provided, the server will generate one. role string Type of role for this user affiliation string Affiliation with which this user will be associated maxEnrollments number The maximum number of times the user is permitted to enroll attrs Array.&lt;KeyValueAttribute&gt; Array of key/value attributes to assign to the user signingIdentity SigningIdentity The instance of a SigningIdentity encapsulating the signing certificate, hash algorithm and signature algorithm Returns: The enrollment secret to use when this user enrolls Type Promise revoke(enrollmentID, aki, serial, reason, signingIdentity) Revoke an existing certificate (enrollment certificate or transaction certificate), or revoke all certificates issued to an enrollment id. If revoking a particular certificate, then both the Authority Key Identifier and serial number are required. If revoking by enrollment id, then all future requests to enroll this id will be rejected. Parameters: Name Type Description enrollmentID string ID to revoke aki string Authority Key Identifier string, hex encoded, for the specific certificate to revoke serial string Serial number string, hex encoded, for the specific certificate to revoke reason string The reason for revocation. See https://godoc.org/golang.org/x/crypto/ocsp for valid values signingIdentity SigningIdentity The instance of a SigningIdentity encapsulating the signing certificate, hash algorithm and signature algorithm Returns: The revocation results Type Promise × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"FabricCAServices.html":{"id":"FabricCAServices.html","title":"Class: FabricCAServices","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: FabricCAServices FabricCAServices This is an implementation of the member service client which communicates with the Fabric CA server. new FabricCAServices(url, tlsOptions, caName, cryptoSuite) constructor Parameters: Name Type Description url string The endpoint URL for Fabric CA services of the form: &quot;http://host:port&quot; or &quot;https://host:port&quot; tlsOptions TLSOptions The TLS settings to use when the Fabric CA services endpoint uses &quot;https&quot; caName string The optional name of the CA. Fabric-ca servers support multiple Certificate Authorities from a single server. If omitted or null or an empty string, then the default CA is the target of requests cryptoSuite CryptoSuite The optional cryptoSuite instance to be used if options other than defaults are needed. If not specified, an instance of CryptoSuite will be constructed based on the current configuration settings: - crypto-hsm: use an implementation for Hardware Security Module (if set to true) or software-based key management (if set to false) - crypto-keysize: security level, or key size, to use with the digital signature public key algorithm. Currently ECDSA is supported and the valid key sizes are 256 and 384 - crypto-hash-algo: hashing algorithm - key-value-store: some CryptoSuite implementation requires a key store to persist private keys. A CryptoKeyStore is provided for this purpose, which can be used on top of any implementation of the KeyValueStore interface, such as a file-based store or a database-based one. The specific implementation is determined by the value of this configuration setting. Extends BaseClient Methods &lt;static&gt; normalizeX509() Make sure there's a start line with '-----BEGIN CERTIFICATE-----' and end line with '-----END CERTIFICATE-----', so as to be compliant with x509 parsers enroll(req) Enroll the member and return an opaque member object. Parameters: Name Type Description req Enrollment request Properties Name Type Description enrollmentID string The registered ID to use for enrollment enrollmentSecret string The secret associated with the enrollment ID Returns: Promise for an object with &quot;key&quot; for private key and &quot;certificate&quot; for the signed certificate getCryptoSuite() Returns the CryptoSuite object used by this client instance Inherited From: BaseClient#getCryptoSuite Returns: Type module:api.CryptoSuite reenroll(currentUser) Re-enroll the member in cases such as the existing enrollment certificate is about to expire, or it has been compromised Parameters: Name Type Description currentUser User The identity of the current user that holds the existing enrollment certificate Returns: Promise for an object with &quot;key&quot; for private key and &quot;certificate&quot; for the signed certificate register(req, registrar) Register the member and return an enrollment secret. Parameters: Name Type Description req Object Registration request with the following fields: - enrollmentID {string}. ID which will be used for enrollment - enrollmentSecret {string}. Optional enrollment secret to set for the registered user. If not provided, the server will generate one. - role {string}. An arbitrary string representing a role value for the user - affiliation {string}. Affiliation with which this user will be associated, like a company or an organization - maxEnrollments {number}. The maximum number of times this user will be permitted to enroll - attrs {KeyValueAttribute[]}. Array of key/value attributes to assign to the user. registrar User . The identity of the registrar (i.e. who is performing the registration) Returns: The enrollment secret to use when this user enrolls Type Promise revoke(request, registrar) Revoke an existing certificate (enrollment certificate or transaction certificate), or revoke all certificates issued to an enrollment id. If revoking a particular certificate, then both the Authority Key Identifier and serial number are required. If revoking by enrollment id, then all future requests to enroll this id will be rejected. Parameters: Name Type Description request Object Request object with the following fields: - enrollmentID {string}. ID to revoke - aki {string}. Authority Key Identifier string, hex encoded, for the specific certificate to revoke - serial {string}. Serial number string, hex encoded, for the specific certificate to revoke - reason {string}. The reason for revocation. See https://godoc.org/golang.org/x/crypto/ocsp for valid values. The default value is 0 (ocsp.Unspecified). registrar User The identity of the registrar (i.e. who is performing the revocation) Returns: The revocation results Type Promise setCryptoSuite(cryptoSuite) Sets the client instance to use the CryptoSuite object for signing and hashing Creating and setting a CryptoSuite is optional because the client will construct an instance based on default configuration settings: crypto-hsm: use an implementation for Hardware Security Module (if set to true) or software-based key management (if set to false) crypto-keysize: security level, or key size, to use with the digital signature public key algorithm. Currently ECDSA is supported and the valid key sizes are 256 and 384 crypto-hash-algo: hashing algorithm key-value-store: some CryptoSuite implementation requires a key store to persist private keys. A CryptoKeyStore is provided for this purpose, which can be used on top of any implementation of the KeyValueStore interface, such as a file-based store or a database-based one. The specific implementation is determined by the value of this configuration setting. Parameters: Name Type Description cryptoSuite module:api.CryptoSuite the CryptoSuite object Inherited From: BaseClient#setCryptoSuite toString() return a printable representation of this object × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"FileKeyValueStore.html":{"id":"FileKeyValueStore.html","title":"Class: FileKeyValueStore","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: FileKeyValueStore FileKeyValueStore This is a default implementation of the KeyValueStore API. It uses files to store the key values. new FileKeyValueStore(options) constructor Parameters: Name Type Description options Object contains a single property path which points to the top-level directory for the store Extends module:api.KeyValueStore Methods getValue(name) Get the value associated with name. Parameters: Name Type Description name string Name of the key Inherited From: module:api.KeyValueStore#getValue Overrides: module:api.KeyValueStore#getValue Returns: Promise for the value corresponding to the key. If the value does not exist in the store, returns null without rejecting the promise Type Promise setValue(name, value) Set the value associated with name. Parameters: Name Type Description name string Name of the key to save value string The Value to save Inherited From: module:api.KeyValueStore#setValue Overrides: module:api.KeyValueStore#setValue Returns: Promise for the 'value' object upon successful write operation Type Promise × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"global.html#Identity":{"id":"global.html#Identity","title":"Class: Identity","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: Identity Identity This interface is shared within the peer and client API of the membership service provider. Identity interface defines operations associated to a &quot;certificate&quot;. That is, the public part of the identity could be thought to be a certificate, and offers solely signature verification capabilities. This is to be used at the client side when validating certificates that endorsements are signed with, and verifying signatures that correspond to these certificates. new Identity(certificate, publicKey, mspId, cryptoSuite) Parameters: Name Type Description certificate string HEX string for the PEM encoded certificate publicKey module:api.Key The public key represented by the certificate mspId string The associated MSP's mspId that manages this identity cryptoSuite module:api.CryptoSuite The underlying CryptoSuite implementation for the digital signature algorithm Methods getMSPId() Returns the identifier of the Membser Service Provider that manages this identity in terms of being able to understand the key algorithms and have access to the trusted roots needed to validate it Returns: Type string getOrganizationUnits() Returns the organization units this identity is related to as long as this is public information. In certain implementations this could be implemented by certain attributes that are publicly associated to that identity, or the identifier of the root certificate authority that has provided signatures on this certificate. Examples: - OrganizationUnit of a fabric-tcert that was signed by TCA under name &quot;Organization 1&quot;, would be &quot;Organization 1&quot;. - OrganizationUnit of an alternative implementation of tcert signed by a public CA used by organization &quot;Organization 1&quot;, could be provided in the clear as part of that tcert structure that this call would be able to return. Returns: Type string isValid() This uses the rules that govern this identity to validate it. E.g., if it is a fabric TCert implemented as identity, validate will check the TCert signature against the assumed root certificate authority. Returns: Type boolean serialize() Converts this identity to bytes Returns: protobuf-based serialization with two fields: &quot;mspid&quot; and &quot;certificate PEM bytes&quot; Type Buffer verify(msg, signature, opts) Verify a signature over some message using this identity as reference Parameters: Name Type Description msg Array.&lt;byte&gt; The message to be verified signature Array.&lt;byte&gt; The signature generated against the message &quot;msg&quot; opts Object Options include 'policy' and 'label' verifyAttributes() Verify attributes against the given attribute spec TODO: when this method's design is finalized × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"module.html#.exports":{"id":"module.html#.exports","title":"Class: exports","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: exports exports new exports(key) this class represents the private or public key of an ECDSA key pair. Parameters: Name Type Description key Object This must be the &quot;privKeyObj&quot; or &quot;pubKeyObj&quot; part of the object generated by jsrsasign.KEYUTIL.generateKeypair() Methods generateCSR(subjectDN) Generates a CSR/PKCS#10 certificate signing request for this key Parameters: Name Type Description subjectDN string The X500Name for the certificate request in LDAP(RFC 2253) format Throws: Will throw an error if this is not a private key Will throw an error if CSR generation fails for any other reason Returns: PEM-encoded PKCS#10 certificate signing request Type string getSKI() Returns: a string representation of the hash from a sequence based on the private key bytes Type string × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"module-api.html":{"id":"module-api.html","title":"Module: api","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Module: api This module defines the APIs for the pluggable components of the node.js SDK. Classes CryptoSuite Key KeyValueStore × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"module-api.CryptoSuite.html":{"id":"module-api.CryptoSuite.html","title":"Class: CryptoSuite","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: CryptoSuite api. CryptoSuite Abstract class for a suite of crypto algorithms used by the SDK to perform digital signing, encryption/decryption and secure hashing. A complete suite includes support for asymmetric keys (such as ECDSA or RSA), symmetric keys (such as AES) and secure hash (such as SHA2/3). The SDK provides a default implementation based on ECDSA + SHA2/3. An alternative implementation can be specified using the &quot;crypto-suite-software&quot; configuration setting, pointing to a full require() path to the package for the module. new CryptoSuite() Methods decrypt(key, cipherText, opts) Decrypts ciphertext using key. The opts argument should be appropriate for the algorithm used. Parameters: Name Type Description key module:api.Key Decryption key (private key) cipherText Array.&lt;byte&gt; Cipher text to decrypt opts Object Decrypt options Returns: Plain text after decryption Type Array.&lt;byte&gt; deriveKey(key) Derives the new private key from the source public key using the parameters passed in the opts. This operation is needed for deriving private keys corresponding to the Transaction Certificates. Parameters: Name Type Description key module:api.Key The source key Returns: Derived key Type module:api.Key encrypt(key, plainText, opts) Encrypts plaintext using key. The opts argument should be appropriate for the algorithm used. Parameters: Name Type Description key module:api.Key Encryption key (public key) plainText Array.&lt;byte&gt; Plain text to encrypt opts Object Encryption options Returns: Cipher text after encryption Type Array.&lt;byte&gt; generateKey(opts) Generate a key using the options in opts. If the opts.ephemeral parameter is false, the method, in addition to returning the imported Key instance, also persists the generated key in the key store as PEM files that can be retrieved using the getKey() method Parameters: Name Type Description opts KeyOpts Optional Returns: Promise for an instance of the Key class Type module:api.Key getKey(ski) Returns the Key this implementation associates to the Subject Key Identifier ski. Parameters: Name Type Description ski string Subject Key Identifier specific to a Crypto Suite implementation, as the unique index to represent the key Returns: Promise of an instance of the Key class corresponding to the ski Type module:api.Key hash(msg, opts) Produce a hash of the message msg using options opts Parameters: Name Type Description msg string Source message to be hashed opts Object algorithm: an identifier for the algorithm to be used, such as &quot;SHA3&quot; Returns: The hashed digest in hexidecimal string encoding Type string importKey(pem, opts) Imports a Key from its raw representation using opts. If the opts.ephemeral parameter is false, the method, in addition to returning the imported Key instance, also saves the imported key in the key store as PEM files that can be retrieved using the 'getKey()' method Parameters: Name Type Description pem string PEM string of the key to import opts KeyOpts Optional Returns: If &quot;opts.ephemeral&quot; is true, returns the Key class synchronously. If &quot;opts.ephemeral&quot; not set or false, returns a Promise of an instance of the Key class. Type Key | Promise sign(key, digest) Signs digest using key. The opts argument should be appropriate for the algorithm used. Parameters: Name Type Description key module:api.Key Signing key (private key) digest Array.&lt;byte&gt; The message digest to be signed. Note that when a signature of a larger message is needed, the caller is responsible for hashing the larger message and passing the hash (as digest) to sign. Returns: the resulting signature Type Array.&lt;byte&gt; verify(key, signature, digest) Verifies signature against key and digest Parameters: Name Type Description key module:api.Key Signing verification key (public key) signature Array.&lt;byte&gt; The signature to verify digest Array.&lt;byte&gt; The digest that the signature was created for Returns: true if the signature verifies successfully Type boolean × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"module-api.Key.html":{"id":"module-api.Key.html","title":"Class: Key","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: Key api. Key Key represents a cryptographic key. It can be symmetric or asymmetric. In the case of an asymmetric key, the key can be public or private. In the case of a private asymmetric key, the getPublicKey() method allows to retrieve the corresponding public-key. A key can be referenced via the Subject Key Identifier (SKI) and resolvable by the appropriate CryptoSuite implementation new Key() Methods getPublicKey() Returns the corresponding public key if this key is an asymmetric private key. If this key is already public, returns this key itself. Returns: the corresponding public key if this key is an asymmetric private key. If this key is already public, returns this key itself. Type module:api.Key getSKI() Returns the subject key identifier of this key Returns: The subject key identifier of this key as a hexidecial encoded string Type string isPrivate() Returns true if this key is an asymmetric private key, false otherwise. Returns: if this key is an asymmetric private key Type boolean isSymmetric() Returns true if this key is a symmetric key, false is this key is asymmetric Returns: if this key is a symmetric key Type boolean toBytes() Converts this key to its PEM representation, if this operation is allowed. Returns: the PEM string representation of the key Type string × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"module-api.KeyValueStore.html":{"id":"module-api.KeyValueStore.html","title":"Class: KeyValueStore","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: KeyValueStore api. KeyValueStore Abstract class for a Key-Value store. The Channel class uses this store to save sensitive information such as authenticated user's private keys, certificates, etc. The SDK provides a default implementation based on files. An alternative implementation can be specified using the &quot;key-value-store&quot; configuration setting, pointing to a full require() path to package for the module. new KeyValueStore() Methods getValue(name) Get the value associated with name. Parameters: Name Type Description name string Name of the key Returns: Promise for the value corresponding to the key. If the value does not exist in the store, returns null without rejecting the promise Type Promise setValue(name, value) Set the value associated with name. Parameters: Name Type Description name string Name of the key to save value string The Value to save Returns: Promise for the 'value' object upon successful write operation Type Promise × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"MSP.html":{"id":"MSP.html","title":"Class: MSP","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: MSP MSP MSP is the minimal Membership Service Provider Interface to be implemented to manage identities (in terms of signing and signature verification) represented by private keys and certificates generated from different algorithms (ECDSA, RSA, etc) and PKIs (software-managed or HSM based) new MSP(config) Setup the MSP instance according to configuration information Parameters: Name Type Description config Object A configuration object specific to the implementation. For this implementation it uses the following fields: `rootCerts`: array of Identity representing trust anchors for validating signing certificates. Required for MSPs used in verifying signatures `intermediateCerts`: array of Identity representing trust anchors for validating signing certificates. optional for MSPs used in verifying signatures `admins`: array of Identity representing admin privileges `signer`: SigningIdentity signing identity. Required for MSPs used in signing `id`: {string} value for the identifier of this instance `orgs`: {string} array of organizational unit identifiers `cryptoSuite': the underlying module:api.CryptoSuite for crypto primitive operations Methods deserializeIdentity(serializedIdentity, storeKey) DeserializeIdentity deserializes an identity Parameters: Name Type Description serializedIdentity Array.&lt;byte&gt; A protobuf-based serialization of an object with two fields: mspid and idBytes for certificate PEM bytes storeKey boolean if the user should be stored in the key store. Only when false will a promise not be returned Returns: Promise for an Identity instance or or the Identity object itself if &quot;storeKey&quot; argument is false Type Promise getDefaultSigningIdentity() Returns the default signing identity Returns: Type SigningIdentity getId() Get provider identifier Returns: Type string getOrganizationUnits() Get organizational unit identifiers Returns: Type Array.&lt;string&gt; getPolicy() Obtain the policy to govern changes Returns: Type Object getSigningIdentity(identifier) Returns a signing identity corresponding to the provided identifier Parameters: Name Type Description identifier string The identifier of the requested identity object Returns: Type SigningIdentity toProtobuf() Returns the Protobuf representation of this MSP Config validate(id) Checks whether the supplied identity is valid Parameters: Name Type Description id Identity Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"MSPManager.html":{"id":"MSPManager.html","title":"Class: MSPManager","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: MSPManager MSPManager MSPManager is an interface defining a manager of one or more MSPs. This essentially acts as a mediator to MSP calls and routes MSP related calls to the appropriate MSP. This object is immutable, it is initialized once and never changed. new MSPManager() Methods addMSP(config) Create and add MSP instance to this manager according to configuration information Parameters: Name Type Description config Object A configuration object specific to the implementation. For this implementation it uses the following fields: `rootCerts`: array of Identity representing trust anchors for validating signing certificates. Required for MSPs used in verifying signatures `intermediateCerts`: array of Identity representing trust anchors for validating signing certificates. optional for MSPs used in verifying signatures `admins`: array of Identity representing admin privileges `signer`: SigningIdentity signing identity. Required for MSPs used in signing `id`: {string} value for the identifier of this instance `orgs`: {string} array of organizational unit identifiers `cryptoSuite': the underlying module:api.CryptoSuite for crypto primitive operations Returns: The newly created MSP instance Type MSP deserializeIdentity(serializedIdentity) DeserializeIdentity deserializes an identity Parameters: Name Type Description serializedIdentity Array.&lt;byte&gt; A protobuf-based serialization of an object with two fields: mspid and idBytes for certificate PEM bytes Returns: Promise for an Identity instance Type Promise getMSP() Returns a validating MSP getMSPs() Returns the validating MSPs. Note that this does NOT return the local MSP loadMSPs(mspConfigs) Instantiates MSPs for validating identities (like the endorsor in the ProposalResponse). The MSPs loaded via this method require the CA certificate representing the Certificate Authority that signed the identities to be validated. They also optionally contain the certificates for the administrators of the organization that the CA certs represent. Parameters: Name Type Description mspConfigs protos/msp/mspconfig.proto An array of MSPConfig objects as defined by the protobuf protos/msp/mspconfig.proto × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"Orderer.html":{"id":"Orderer.html","title":"Class: Orderer","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: Orderer Orderer The Orderer class represents a peer in the target blockchain network to which HFC sends a block of transactions of endorsed proposals requiring ordering. new Orderer(url, opts) Constructs an Orderer given its endpoint configuration settings. Parameters: Name Type Description url string The orderer URL with format of 'grpcs://host:port'. opts Object The options for the connection to the orderer. - request-timeout {string} A integer value in milliseconds to be used as node.js based timeout. This will break the request operation if the grpc request has not responded within this timeout period. note: other options will be passed to the grpc connection Methods sendBroadcast(envelope) Send a Broadcast message to the orderer service. Parameters: Name Type Description envelope byte Byte data to be included in the Broadcast See: the ./proto/orderer/ab.proto the ./proto/orderer/ab.proto Returns: A Promise for a BroadcastResponse Type Promise sendDeliver(envelope) Send a Deliver message to the orderer service. Parameters: Name Type Description envelope byte Byte data to be included in the Deliver See: the ./proto/orderer/ab.proto the ./proto/orderer/common.proto Returns: A Promise for a Block Type Promise toString() return a printable representation of this object × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"Peer.html":{"id":"Peer.html","title":"Class: Peer","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: Peer Peer The Peer class represents a peer in the target blockchain network to which HFC sends endorsement proposals, transaction ordering or query requests. The Peer class represents the remote Peer node and its network membership materials, aka the ECert used to verify signatures. Peer membership represents organizations, unlike User membership which represents individuals. When constructed, a Peer instance can be designated as an event source, in which case a “eventSourceUrl” attribute should be configured. This allows the SDK to automatically attach transaction event listeners to the event stream. It should be noted that Peer event streams function at the Peer level and not at the channel and chaincode levels. new Peer(url, opts) Constructs a Peer given its endpoint configuration settings. Parameters: Name Type Description url string The URL with format of &quot;grpcs://host:port&quot;. opts Object The options for the connection to the peer. - request-timeout {string} A integer value in milliseconds to be used as node.js based timeout. This will break the request operation if the grpc request has not responded within this timeout period. note: other options will be passed to the grpc connection Extends Remote Methods getName() Get the Peer name. Required property for the instance objects. Returns: The name of the Peer Type string getUrl() Get the URL of the orderer. Inherited From: Remote#getUrl Returns: Get the URL associated with the Orderer. Type string sendProposal(proposal) Send an endorsement proposal to an endorser. Parameters: Name Type Description proposal Proposal A proposal of type Proposal See: /protos/peer/fabric_proposal.proto Returns: Promise for a ProposalResponse setEnrollmentCertificate(enrollment) Set the Peer’s enrollment certificate. Parameters: Name Type Description enrollment Object Certificate in PEM format signed by the trusted CA setName(name) Set the Peer name / id. Parameters: Name Type Description name string toString() return a printable representation of this object Overrides: Remote#toString × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"PKCS11_ECDSA_KEY.html":{"id":"PKCS11_ECDSA_KEY.html","title":"Class: PKCS11_ECDSA_KEY","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: PKCS11_ECDSA_KEY PKCS11_ECDSA_KEY new PKCS11_ECDSA_KEY() This module implements the module:api.Key interface, for ECDSA key management by Hardware Security Module support via PKCS#11 interface. Extends module:api.Key Methods getPublicKey() Returns the corresponding public key if this key is an asymmetric private key. If this key is already public, returns this key itself. Inherited From: module:api.Key#getPublicKey Overrides: module:api.Key#getPublicKey Returns: the corresponding public key if this key is an asymmetric private key. If this key is already public, returns this key itself. Type module:api.Key getSKI() Returns the subject key identifier of this key Inherited From: module:api.Key#getSKI Overrides: module:api.Key#getSKI Returns: The subject key identifier of this key as a hexidecial encoded string Type string isPrivate() Returns true if this key is an asymmetric private key, false otherwise. Inherited From: module:api.Key#isPrivate Overrides: module:api.Key#isPrivate Returns: if this key is an asymmetric private key Type boolean isSymmetric() Returns true if this key is a symmetric key, false is this key is asymmetric Inherited From: module:api.Key#isSymmetric Overrides: module:api.Key#isSymmetric Returns: if this key is a symmetric key Type boolean toBytes() Converts this key to its PEM representation, if this operation is allowed. Inherited From: module:api.Key#toBytes Overrides: module:api.Key#toBytes Returns: the PEM string representation of the key Type string × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"Remote.html":{"id":"Remote.html","title":"Class: Remote","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: Remote Remote The Remote class represents a the base class for all remote nodes, Peer, Orderer , and MemberServicespeer. new Remote(url, opts) Constructs an object with the endpoint configuration settings. Parameters: Name Type Description url string The orderer URL with format of 'grpc(s)://host:port'. opts Object An Object that may contain options to pass to grpcs calls - pem {string} The certificate file, in PEM format, to use with the gRPC protocol (that is, with TransportCredentials). Required when using the grpcs protocol. - ssl-target-name-override {string} Used in test environment only, when the server certificate's hostname (in the 'CN' field) does not match the actual host endpoint that the server process runs at, the application can work around the client TLS verify failure by setting this property to the value of the server certificate's hostname - any other standard grpc call options will be passed to the grpc service calls directly Methods getUrl() Get the URL of the orderer. Returns: Get the URL associated with the Orderer. Type string toString() return a printable representation of this object × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"Signer.html":{"id":"Signer.html","title":"Class: Signer","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: Signer Signer Signer is an interface for an opaque private key that can be used for signing operations new Signer(cryptoSuite, key) Parameters: Name Type Description cryptoSuite module:api.CryptoSuite The underlying CryptoSuite implementation for the digital signature algorithm key module:api.Key The private key Methods getPublicKey() Returns the public key corresponding to the opaque, private key Returns: The public key corresponding to the private key Type module:api.Key sign(digest, opts) Signs digest with the private key. Hash implements the SignerOpts interface and, in most cases, one can simply pass in the hash function used as opts. Sign may also attempt to type assert opts to other types in order to obtain algorithm specific values. Note that when a signature of a hash of a larger message is needed, the caller is responsible for hashing the larger message and passing the hash (as digest) and the hash function (as opts) to Sign. Parameters: Name Type Description digest Array.&lt;byte&gt; The message to sign opts Object hashingFunction: the function to use to hash × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"SigningIdentity.html":{"id":"SigningIdentity.html","title":"Class: SigningIdentity","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: SigningIdentity SigningIdentity SigningIdentity is an extension of Identity to cover signing capabilities. E.g., signing identity should be requested in the case of a client who wishes to sign proposal responses and transactions new SigningIdentity(certificate, publicKey, mspId, cryptoSuite, signer) Parameters: Name Type Description certificate string HEX string for the PEM encoded certificate publicKey module:api.Key The public key represented by the certificate mspId string The associated MSP's ID that manages this identity cryptoSuite module:api.CryptoSuite The underlying CryptoSuite implementation for the digital signature algorithm signer Signer The signer object encapsulating the opaque private key and the corresponding digital signature algorithm to be used for signing operations Methods sign(msg, opts) Signs digest with the private key contained inside the signer. Parameters: Name Type Description msg Array.&lt;byte&gt; The message to sign opts Object Options object for the signing, contains one field 'hashFunction' that allows different hashing algorithms to be used. If not present, will default to the hash function configured for the identity's own crypto suite object × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"TransactionID.html":{"id":"TransactionID.html","title":"Class: TransactionID","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: TransactionID TransactionID The class representing the transaction identifier. Provides for automatically creating the `nonce` value when an instance of this object is created. new TransactionID(clientContext) Builds a new tranaction Id based on a user's certificate and an automatically generated nonce value. Parameters: Name Type Description clientContext Client An instance of Client that provides an unique base for this transaction id. Methods getNonce() The nonce value getTransactionID() The transaction ID × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"User.html":{"id":"User.html","title":"Class: User","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Class: User User The User class represents users that have been enrolled and represented by an enrollment certificate (ECert) and a signing key. The ECert must have been signed by one of the CAs the blockchain network has been configured to trust. An enrolled user (having a signing key and ECert) can conduct chaincode instantiate, transactions and queries with the Channel. User ECerts can be obtained from a CA beforehand as part of installing and instantiating the application, or it can be obtained from the optional Fabric CA service via its enrollment process. Sometimes User identities are confused with Peer identities. User identities represent signing capability because it has access to the private key, while Peer identities in the context of the application/SDK only has the certificate for verifying signatures. An application cannot use the Peer identity to sign things because the application doesn’t have access to the Peer identity’s private key. new User(cfg) Constructor for a member. Parameters: Name Type Description cfg string The member name or an object with the following attributes: - enrollmentID {string}: user name - name {string}: user name, if &quot;enrollmentID&quot; is also specified, the &quot;name&quot; is ignored - roles {string[]}: optional. array of roles - affiliation {string}: optional. affiliation with a group or organization Methods fromString() Set the current state of this member from a string based JSON object Returns: Promise of the unmarshalled Member object represented by the serialized string Type Member getAffiliation() Get the affiliation. Returns: The affiliation. Type string getIdentity() Get the Identity object for this User instance, used to verify signatures Returns: the identity object that encapsulates the user's enrollment certificate Type Identity getName() Get the member name. Returns: The member name. Type string getRoles() Get the roles. Returns: The roles. Type Array.&lt;string&gt; getSigningIdentity() Get the SigningIdentity object for this User instance, used to generate signatures Returns: the identity object that encapsulates the user's private key for signing Type SigningIdentity isEnrolled() Determine if this name has been enrolled. Returns: True if enrolled; otherwise, false. Type boolean setAffiliation(affiliation) Set the affiliation. Parameters: Name Type Description affiliation string The affiliation. setCryptoSuite(cryptoSuite) Set the cryptoSuite. When the application needs to use crypto settings or a key store other than the default, it needs to set a cryptoSuite instance that was created with the desired CryptoSuite settings and CryptoKeyStore options. Parameters: Name Type Description cryptoSuite module:api.CryptoSuite The cryptoSuite. setEnrollment(privateKey, certificate, mspId) Set the enrollment object for this User instance Parameters: Name Type Description privateKey module:api.Key the private key object certificate string the PEM-encoded string of certificate mspId string The Member Service Provider id for the local signing identity Returns: Promise for successful completion of creating the user's signing Identity Type Promise setRoles(roles) Set the roles. Parameters: Name Type Description roles Array.&lt;string&gt; The roles. toString() Save the current state of this member as a string Returns: The state of this member as a string Type string × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"tutorial-app-dev-env-setup.html":{"id":"tutorial-app-dev-env-setup.html","title":"Tutorial: Setting up the Application Developer's Environment","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Setting up the Application Developer's Environment This tutorial describes how to prepare a development environment in order to build a business application to use a blockchain network based on Hyperledger Fabric. At a high level, a business application against a Hyperledger Fabric network is made up of two parts: chaincode that runs in the servers (endorser nodes), and client code that runs in the client application. For chaincode development, please visit the tutorial here. The following tutorial assumes a chaincode has been developed and the focus is developing the client application. What makes up a Hyperledger Fabric application development environment?Below you'll find a high level summary of the Hyperledger Fabric design aimed at an introductory level of understanding, so that you can be on your way to setting up the development environment. For a comprehensive description of the concepts, the architecture, please visit the official Hyperledger Fabric documentation. First of all, you will need an orderer. But isn't an orderer responsible for the consensus? Why start here? It's true that the main responsibility of the ordering service of a Hyperledger Fabric blockchain network is to provide consensus on a transaction among the maintainers of the ledger, a.k.a the committer nodes. However, the ordering service also maintains critical data about the overall network: what organizations are participating, what channels have been created, which organizations are part of a given channel, and last but not least what policies are in place for any kind of changes to the network. In essence, the ordering service holds the network together. Ok we've got to have an orderer node so we can add participating organizations to it and get a network started. Next you would need peers for each participating organization in order to participate in transaction endorsing and maintaining the ledger. The peer nodes play two roles: endorser and committer. A peer's endorser role may be enabled or disabled based on bootstrap configuration. But all peers are always committers. For high availability you would want more than one peer for each organization in a real deployment. But for the development environment, one peer per organization is sufficient under most circumstances. This peer will be both an endorse and a committer. It will be sent transaction proposals to endorse, and queries to discover information from the ledger. Another important role that peer nodes play is broadcasting events to interested parties. Whenever a block is added to the ledger, an event is sent by the peer through a dedicated streaming port. Any applications within the organization can register themselves to listen on that port to get notified. The final piece of the puzzle is identities. Every operation in a Hyperledger Fabric network must be digitially signed for the purposes of access control, or provenance/auditing (who did what), or both. As of v1.0, identities are based on the Public Key Infrastructure (PKI)) standards. Every orderer node, peer node and every user/transactor must have a key pair with the public key wrapped in a x.509 certificate signed by a Certificate Authority (CA). Since x.509 is an open standard, Hyperledger Fabric would work with any existing certificate authorities. But it's typically a painful process with lots of potential red taping to get real certificates, so for development purposes it is a popular practice to use self-signed certificates locally generated. As you will see in the later section, the fabric provides tools to make this less painful. Also related to identities, you should make a decision on whether Fabric-CA should be part of your solution. This is a server with REST APIs that supports dynamic identity management with registration, enrollment (getting certificates), revocation and re-enrollment. So it is very useful in providing user identities on the fly. But note that user identities provisioned this way are only of the MEMBER role in the fabric, which means it won't be able to perform certain operations reserved for the ADMIN role: create/update channel install/instantiate chaincode query installed/instantiated chaincodes For these privileged operations, the client must use an ADMIN user to submit the request. This will be discussed in more details in the User identities tutorial. If you choose to not use Fabric-CA, everything will still work but the application is responsible for managing the user certificates. This will be discussed in more details in the User identities tutorial. PrerequisitesYou will need the following software: Docker - v1.12 or higher Docker Compose - v1.8 or higher Nodejs v6.2.0 - 6.10.0 ( Node v7+ is not supported ) Prepare crypto materialsAs discussed above, identities are established with x.509 certificates. If you think about it, we will need a whole bunch of certificates because there are many identities involved: peers need identities to sign endorsements orderers need identities to sign proposed blocks for the committers to validate and append to the ledger applications need identities to sign transaction requests even the Fabric CA themselves also need identities so their signatures in the certificates can be validated Luckily there is a tool for that. Follow this guide to use the cryptogen tool to generate all the required keys and certificates in one swoop. Recommend the following configuration: Organization # of nodes # of users orderer org 1 orderer 1 admin peer org1 2 peers 1 admin, 1 member peer org2 2 peers 1 admin, 1 member Note that the cryptogen tool will automatically generate identities for the Fabric CA nodes for each orderer and peer organization, which can be used to start the Fabric-CA servers (if you choose to use it as part of the solution as discussed above). In addition, it also generates one admin user of the ADMIN role with the privileges to perform admin-level operations listed above. Finally, it also generates regular users (MEMBER role) for submitting transactions. This would get us all the crypto materials needed to start things up. Getting things rolling for real - the genesis blockAs discussed above, the orderer should be the first step to bootstrap to launch a network. It will need the initial configurations wrapped inside a genesis block. Follow the instructions here to use the congigtxgen tool to generate that. The output, the genesis block for the orderer, will be used in the next step to launch the orderer node. Start the network (no TLS)Now we are ready to put it all together. The easiest way to launch the development environment is to use docker-compose. Follow the instructions here to start the network. To minimize the chance to make mistakes, we will run the network without TLS. The above steps give you a development environment. Now before you can ask it to process any transactions, you must first create a channel. Next, we will create a channel in this tutorial. This work is licensed under a Creative Commons Attribution 4.0 International License. s × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "},"tutorial-index_.html":{"id":"tutorial-index_.html","title":"Tutorial: Hyperledger Fabric SDK for Node.js Overview","body":" Hyperledger Fabric SDK for node.js Modules api Classes BaseClientBlockDecoderChannelClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11ECDSA_KEYEndorsementPolicyEventHubFabricCAClientFabricCAServicesFileKeyValueStoreIdentitymodule.exportsapi.CryptoSuiteapi.Keyapi.KeyValueStoreMSPMSPManagerOrdererPeerPKCS11_ECDSA_KEYRemoteSignerSigningIdentityTransactionIDUser Tutorials Setting up the Application Developer's EnvironmentHyperledger Fabric SDK for Node.js Overview Global package Hyperledger Fabric SDK for Node.js Overview The Hyperledger Fabric SDK for Node.js provides a powerful API to interact with a Hyperledger Fabric v1.0 blockchain. The SDK is designed to be used in the Node.js JavaScript runtime. OverviewHyperledger Fabric is the operating system of an enterprise-strength permissioned blockchain network. For a high-level overview of the fabric, visit http://hyperledger-fabric.readthedocs.io/en/latest/. Applications can be developed to interact with the blockchain network on behalf of the users. APIs are available to: create channels ask peer nodes to join the channel install chaincodes in peers instantiate chaincodes in a channel invoke transactions by calling the chaincode query the ledger for transactions or blocks How Different Components of the Fabric Work TogetherThe Transaction Flow document provides an excellent description of the application/SDK, peers, and orderers working together to process transactions and producing blocks. Security on the Fabric is enforced with digital signatures. All requests made to the fabric must be signed by users with appropriate enrollment certificates. For a user's enrollment certificate to be considered valid on the Fabric, it must be signed by a trusted Certificate Authority (CA). Fabric supports any standard CAs. In addition, Fabric provides a CA server. See this overview. Features of the SDK for Node.jsThe Hyperledger Fabric SDK for Node.js is designed in an Object-Oriented programming style. Its modular construction enables application developers to plug in alternative implementations of key functions such as crypto suites, the state persistence store, and logging utility. The SDK's list of features include: fabric-client: create a new channel send channel information to a peer to join install chaincode on a peer instantiate chaincode in a channel, which involves two steps: propose and transact submitting a transaction, which also involves two steps: propose and transact query a chaincode for the latest application state various query capabilities: channel height block-by-number, block-by-hash all channels that a peer is part of all installed chaincodes in a peer all instantiated chaincodes in a channel transaction-by-id channel configuration data monitoring events: connect to a peer's event stream listen on block events listen on transactions events and find out if the transaction was successfully committed to the ledger or marked invalid listen on custom events produced by chaincodes serializable User object with signing capabilities hierarchical configuration settings with multiple layers of overrides: files, environment variable, program arguments, in-memory settings logging utility with a built-in logger (winston) and can be overriden with a number of popular loggers including log4js and bunyan pluggable CryptoSuite interface describe the cryptographic operations required for successful interactions with the Fabric. Two implementations are provided out of box: Software-based ECDSA PKCS#11-compliant ECDSA pluggable State Store interface for persisting state caches such as users File-based store CouchDB-base store which works with both CouchDB database and IBM Cloudant customizable Crypto Key Store for any software-based cryptographic suite implementation supports both TLS (grpcs://) or non-TLS (grpc://) connections to peers and orderers, see Remote which is the superclass for peers and orderers fabric-ca-client: register a new user enroll a user to obtain the enrollment certificate signed by the Fabric CA revoke an existing user by enrollment ID or revoke a specific certificate customizable persistence store API ReferenceThe SDK is made up of 3 top-level modules that can be accessed through the navigation menu Modules: api: pluggable APIs for application developers to supply alternative implementations of key interfaces used by the SDK. For each interface there are built-in default implementations. fabric-client: this module provides APIs to interact with the core components of a Hypreledger Fabric-based blockchain network, namely the peers, orderers and event streams. fabric-ca-client: this module provides APIs to interact with the optional component, fabric-ca, that contains services for membership management. This work is licensed under a Creative Commons Attribution 4.0 International License. s × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-06-14T05:01:21+00:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
